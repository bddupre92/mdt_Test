{
  "version": "2.0",
  "timestamp": "2025-03-26T10:31:03.325051",
  "metadata": {
    "model_version": "MoE-v3.0",
    "dataset": "migraine-clinical-dataset-v3",
    "experiment_id": "comprehensive-test-2025_03_26",
    "description": "Comprehensive MoE evaluation checkpoint with complete metrics"
  },
  "expert_benchmarks": {
    "clinical_expert": {
      "rmse": 0.1051,
      "mae": 0.0841,
      "r2": 0.7922,
      "auc": 0.7161,
      "performance_over_time": {
        "timestamps": [
          "2025-03-25T15:31:03.322980",
          "2025-03-25T16:31:03.322980",
          "2025-03-25T17:31:03.322980",
          "2025-03-25T18:31:03.322980",
          "2025-03-25T19:31:03.322980",
          "2025-03-25T20:31:03.322980",
          "2025-03-25T21:31:03.322980",
          "2025-03-25T22:31:03.322980",
          "2025-03-25T23:31:03.322980",
          "2025-03-26T00:31:03.322980",
          "2025-03-26T01:31:03.322980",
          "2025-03-26T02:31:03.322980",
          "2025-03-26T03:31:03.322980",
          "2025-03-26T04:31:03.322980",
          "2025-03-26T05:31:03.322980",
          "2025-03-26T06:31:03.322980",
          "2025-03-26T07:31:03.322980",
          "2025-03-26T08:31:03.322980",
          "2025-03-26T09:31:03.322980",
          "2025-03-26T10:31:03.322980"
        ],
        "metrics": {
          "rmse": [
            0.0794,
            0.0828,
            0.1017,
            0.1014,
            0.0884,
            0.0963,
            0.0926,
            0.0794,
            0.0839,
            0.1438,
            0.1047,
            0.0841,
            0.0978,
            0.0793,
            0.059,
            0.0686,
            0.1032,
            0.0851,
            0.1053,
            0.1058
          ],
          "mae": [
            0.1205,
            0.0699,
            0.047,
            0.0879,
            0.1004,
            0.0408,
            0.0823,
            0.1006,
            0.0529,
            0.1131,
            0.0613,
            0.0328,
            0.0601,
            0.105,
            0.0719,
            0.0581,
            0.0737,
            0.0879,
            0.0458,
            0.0509
          ],
          "r2": [
            0.798,
            0.8073,
            0.7969,
            0.7809,
            0.7807,
            0.7635,
            0.7693,
            0.8001,
            0.7575,
            0.8035,
            0.7646,
            0.7996,
            0.7587,
            0.7741,
            0.7945,
            0.7455,
            0.7642,
            0.7824,
            0.7388,
            0.7814
          ]
        }
      },
      "confidence_metrics": {
        "mean_confidence": 0.7748,
        "calibration_error": 0.096,
        "confidence_bins": [
          {
            "bin_start": 0.0,
            "bin_end": 0.2,
            "accuracy": 0.1831
          },
          {
            "bin_start": 0.2,
            "bin_end": 0.4,
            "accuracy": 0.3255
          },
          {
            "bin_start": 0.4,
            "bin_end": 0.6,
            "accuracy": 0.53
          },
          {
            "bin_start": 0.6,
            "bin_end": 0.8,
            "accuracy": 0.7722
          },
          {
            "bin_start": 0.8,
            "bin_end": 1.0,
            "accuracy": 0.9464
          }
        ]
      },
      "timing": {
        "training_time": 145.78,
        "inference_time": 0.0648,
        "total_predictions": 972
      }
    },
    "environmental_expert": {
      "rmse": 0.1081,
      "mae": 0.0865,
      "r2": 0.665,
      "auc": 0.7596,
      "performance_over_time": {
        "timestamps": [
          "2025-03-25T15:31:03.323047",
          "2025-03-25T16:31:03.323047",
          "2025-03-25T17:31:03.323047",
          "2025-03-25T18:31:03.323047",
          "2025-03-25T19:31:03.323047",
          "2025-03-25T20:31:03.323047",
          "2025-03-25T21:31:03.323047",
          "2025-03-25T22:31:03.323047",
          "2025-03-25T23:31:03.323047",
          "2025-03-26T00:31:03.323047",
          "2025-03-26T01:31:03.323047",
          "2025-03-26T02:31:03.323047",
          "2025-03-26T03:31:03.323047",
          "2025-03-26T04:31:03.323047",
          "2025-03-26T05:31:03.323047",
          "2025-03-26T06:31:03.323047",
          "2025-03-26T07:31:03.323047",
          "2025-03-26T08:31:03.323047",
          "2025-03-26T09:31:03.323047",
          "2025-03-26T10:31:03.323047"
        ],
        "metrics": {
          "rmse": [
            0.0955,
            0.0995,
            0.1446,
            0.0886,
            0.0959,
            0.073,
            0.104,
            0.0556,
            0.0988,
            0.1016,
            0.1017,
            0.1277,
            0.0944,
            0.0978,
            0.0774,
            0.0922,
            0.0878,
            0.1026,
            0.063,
            0.0637
          ],
          "mae": [
            0.103,
            0.0897,
            0.0822,
            0.0871,
            0.1118,
            0.067,
            0.0654,
            0.0858,
            0.0967,
            0.0875,
            0.0776,
            0.068,
            0.0827,
            0.101,
            0.0963,
            0.0655,
            0.0719,
            0.0468,
            0.0524,
            0.0696
          ],
          "r2": [
            0.6574,
            0.6797,
            0.6442,
            0.6374,
            0.67,
            0.6522,
            0.669,
            0.6927,
            0.6433,
            0.6569,
            0.6655,
            0.6599,
            0.6445,
            0.6756,
            0.6304,
            0.6626,
            0.6332,
            0.6133,
            0.6539,
            0.6353
          ]
        }
      },
      "confidence_metrics": {
        "mean_confidence": 0.7879,
        "calibration_error": 0.0707,
        "confidence_bins": [
          {
            "bin_start": 0.0,
            "bin_end": 0.2,
            "accuracy": 0.1827
          },
          {
            "bin_start": 0.2,
            "bin_end": 0.4,
            "accuracy": 0.3044
          },
          {
            "bin_start": 0.4,
            "bin_end": 0.6,
            "accuracy": 0.5696
          },
          {
            "bin_start": 0.6,
            "bin_end": 0.8,
            "accuracy": 0.7298
          },
          {
            "bin_start": 0.8,
            "bin_end": 1.0,
            "accuracy": 0.9158
          }
        ]
      },
      "timing": {
        "training_time": 104.4,
        "inference_time": 0.0466,
        "total_predictions": 1016
      }
    },
    "temporal_expert": {
      "rmse": 0.1796,
      "mae": 0.1437,
      "r2": 0.7907,
      "auc": 0.7978,
      "performance_over_time": {
        "timestamps": [
          "2025-03-25T15:31:03.323101",
          "2025-03-25T16:31:03.323101",
          "2025-03-25T17:31:03.323101",
          "2025-03-25T18:31:03.323101",
          "2025-03-25T19:31:03.323101",
          "2025-03-25T20:31:03.323101",
          "2025-03-25T21:31:03.323101",
          "2025-03-25T22:31:03.323101",
          "2025-03-25T23:31:03.323101",
          "2025-03-26T00:31:03.323101",
          "2025-03-26T01:31:03.323101",
          "2025-03-26T02:31:03.323101",
          "2025-03-26T03:31:03.323101",
          "2025-03-26T04:31:03.323101",
          "2025-03-26T05:31:03.323101",
          "2025-03-26T06:31:03.323101",
          "2025-03-26T07:31:03.323101",
          "2025-03-26T08:31:03.323101",
          "2025-03-26T09:31:03.323101",
          "2025-03-26T10:31:03.323101"
        ],
        "metrics": {
          "rmse": [
            0.187,
            0.1867,
            0.1813,
            0.1818,
            0.1848,
            0.19,
            0.1733,
            0.1829,
            0.195,
            0.1474,
            0.1843,
            0.1747,
            0.1949,
            0.174,
            0.1833,
            0.1797,
            0.1798,
            0.1618,
            0.1669,
            0.2129
          ],
          "mae": [
            0.1556,
            0.1303,
            0.122,
            0.1426,
            0.1701,
            0.1325,
            0.1397,
            0.1329,
            0.1238,
            0.1432,
            0.134,
            0.1184,
            0.1251,
            0.1599,
            0.1316,
            0.1262,
            0.1363,
            0.1463,
            0.1345,
            0.1398
          ],
          "r2": [
            0.8454,
            0.8169,
            0.7912,
            0.8011,
            0.7931,
            0.7542,
            0.7678,
            0.7771,
            0.7469,
            0.7707,
            0.7744,
            0.7909,
            0.7596,
            0.8222,
            0.7534,
            0.784,
            0.7995,
            0.7783,
            0.7771,
            0.7947
          ]
        }
      },
      "confidence_metrics": {
        "mean_confidence": 0.6654,
        "calibration_error": 0.0372,
        "confidence_bins": [
          {
            "bin_start": 0.0,
            "bin_end": 0.2,
            "accuracy": 0.1362
          },
          {
            "bin_start": 0.2,
            "bin_end": 0.4,
            "accuracy": 0.3564
          },
          {
            "bin_start": 0.4,
            "bin_end": 0.6,
            "accuracy": 0.5785
          },
          {
            "bin_start": 0.6,
            "bin_end": 0.8,
            "accuracy": 0.7596
          },
          {
            "bin_start": 0.8,
            "bin_end": 1.0,
            "accuracy": 0.9607
          }
        ]
      },
      "timing": {
        "training_time": 163.81,
        "inference_time": 0.0659,
        "total_predictions": 990
      }
    }
  },
  "gating_evaluation": {
    "selection_accuracy": 0.7033,
    "optimal_selection_rate": 0.5955,
    "mean_regret": 0.0813,
    "max_regret": 0.1854,
    "selection_entropy": 0.7643,
    "expert_utilization": {
      "clinical_expert": 0.2453,
      "environmental_expert": 0.4365,
      "temporal_expert": 0.3182
    },
    "selection_over_time": {
      "timestamps": [
        "2025-03-25T15:31:03.323153",
        "2025-03-25T16:31:03.323153",
        "2025-03-25T17:31:03.323153",
        "2025-03-25T18:31:03.323153",
        "2025-03-25T19:31:03.323153",
        "2025-03-25T20:31:03.323153",
        "2025-03-25T21:31:03.323153",
        "2025-03-25T22:31:03.323153",
        "2025-03-25T23:31:03.323153",
        "2025-03-26T00:31:03.323153",
        "2025-03-26T01:31:03.323153",
        "2025-03-26T02:31:03.323153",
        "2025-03-26T03:31:03.323153",
        "2025-03-26T04:31:03.323153",
        "2025-03-26T05:31:03.323153",
        "2025-03-26T06:31:03.323153",
        "2025-03-26T07:31:03.323153",
        "2025-03-26T08:31:03.323153",
        "2025-03-26T09:31:03.323153",
        "2025-03-26T10:31:03.323153"
      ],
      "expert_selection": {
        "clinical_expert": [
          0.2831,
          0.2252,
          0.2329,
          0.2947,
          0.2384,
          0.277,
          0.2143,
          0.252,
          0.2401,
          0.2196,
          0.1964,
          0.215,
          0.2846,
          0.2447,
          0.2612,
          0.2286,
          0.2011,
          0.2903,
          0.2007,
          0.2383
        ],
        "environmental_expert": [
          0.4225,
          0.3902,
          0.4851,
          0.4759,
          0.4308,
          0.4734,
          0.4309,
          0.3955,
          0.4607,
          0.4858,
          0.4081,
          0.4149,
          0.4164,
          0.4,
          0.4655,
          0.3877,
          0.433,
          0.4563,
          0.4498,
          0.4443
        ],
        "temporal_expert": [
          0.3187,
          0.3404,
          0.3047,
          0.2757,
          0.3353,
          0.328,
          0.3216,
          0.3547,
          0.344,
          0.3339,
          0.3109,
          0.3037,
          0.3425,
          0.3306,
          0.3393,
          0.3207,
          0.3089,
          0.3425,
          0.2754,
          0.2878
        ]
      }
    },
    "weight_analysis": {
      "weight_concentration": 0.7218,
      "weight_correlation": 0.5221,
      "weight_distributions": {
        "clinical_expert": [
          0.1103,
          0.8089,
          0.3493,
          0.4225,
          0.2126,
          0.3512,
          0.6665,
          0.3706,
          0.0888,
          0.2972,
          0.7237,
          0.4511,
          0.7746,
          0.2574,
          0.2613,
          0.4369,
          0.2901,
          0.8933,
          0.1455,
          0.6148,
          0.3697,
          0.4349,
          0.7027,
          0.102,
          0.6112,
          0.1932,
          0.7932,
          0.1782,
          0.5823,
          0.3413,
          0.1724,
          0.6002,
          0.2,
          0.3426,
          0.5965,
          0.187,
          0.1517,
          0.2124,
          0.3009,
          0.4648,
          0.541,
          0.5421,
          0.2198,
          0.487,
          0.0694,
          0.2852,
          0.5928,
          0.1865,
          0.3494,
          0.1106,
          0.4381,
          0.1836,
          0.3838,
          0.3935,
          0.5684,
          0.2316,
          0.5604,
          0.3413,
          0.5527,
          0.3739,
          0.4861,
          0.0699,
          0.484,
          0.2079,
          0.3705,
          0.6318,
          0.2992,
          0.5779,
          0.3128,
          0.2003,
          0.5093,
          0.1625,
          0.5136,
          0.1957,
          0.1578,
          0.3253,
          0.4642,
          0.4561,
          0.413,
          0.327,
          0.255,
          0.4618,
          0.3135,
          0.2627,
          0.357,
          0.5079,
          0.0948,
          0.5237,
          0.2726,
          0.424,
          0.1856,
          0.3753,
          0.6278,
          0.1217,
          0.028,
          0.6589,
          0.2116,
          0.8091,
          0.3162,
          0.527
        ],
        "environmental_expert": [
          0.8171,
          0.88,
          0.2244,
          0.4477,
          0.5851,
          0.3313,
          0.3756,
          0.7828,
          0.6281,
          0.5614,
          0.7675,
          0.844,
          0.6317,
          0.6626,
          0.6781,
          0.7116,
          0.701,
          0.805,
          0.6488,
          0.9441,
          0.3599,
          0.7677,
          0.4682,
          0.3326,
          0.582,
          0.677,
          0.4741,
          0.7164,
          0.3768,
          0.9654,
          0.3513,
          0.2917,
          0.571,
          0.7029,
          0.5995,
          0.9115,
          0.5588,
          0.3446,
          0.3637,
          0.6643,
          0.4336,
          0.7042,
          0.5661,
          0.5557,
          0.8349,
          0.6383,
          0.7643,
          0.7848,
          0.7612,
          0.7531,
          0.7351,
          0.802,
          0.7382,
          0.7419,
          0.6488,
          0.6858,
          0.2739,
          0.9003,
          0.492,
          0.7812,
          0.8252,
          0.6017,
          0.7274,
          0.7312,
          0.8086,
          0.8099,
          0.5677,
          0.8158,
          0.4427,
          0.7397,
          0.5646,
          0.7886,
          0.5732,
          0.5805,
          0.6343,
          0.5269,
          0.4169,
          0.2115,
          0.5765,
          0.8109,
          0.2446,
          0.5558,
          0.7692,
          0.5376,
          0.4881,
          0.913,
          0.5511,
          0.9044,
          0.7408,
          0.7141,
          0.6014,
          0.7267,
          0.4039,
          0.6251,
          0.5689,
          0.7579,
          0.6726,
          0.9076,
          0.9238,
          0.4216
        ],
        "temporal_expert": [
          0.2448,
          0.6147,
          0.7033,
          0.8075,
          0.2282,
          0.7848,
          0.361,
          0.3662,
          0.2749,
          0.7091,
          0.7786,
          0.579,
          0.1358,
          0.7408,
          0.4233,
          0.3835,
          0.6695,
          0.3945,
          0.2813,
          0.9004,
          0.522,
          0.768,
          0.4248,
          0.4834,
          0.562,
          0.0719,
          0.7063,
          0.0053,
          0.2366,
          0.1067,
          0.2217,
          0.625,
          0.5985,
          0.678,
          0.5314,
          0.2447,
          0.6782,
          0.8124,
          0.507,
          0.2421,
          0.5442,
          0.9529,
          0.5391,
          0.5988,
          0.5315,
          0.7717,
          0.823,
          0.507,
          0.1061,
          0.121,
          0.3872,
          0.747,
          0.3444,
          0.406,
          0.6828,
          0.1992,
          0.6133,
          0.4165,
          0.2804,
          0.448,
          0.3646,
          0.6152,
          0.3007,
          0.6726,
          0.584,
          0.9341,
          0.8517,
          0.8938,
          0.998,
          0.3919,
          0.2232,
          0.3392,
          0.5699,
          0.9108,
          0.6182,
          0.782,
          0.581,
          0.6799,
          0.7164,
          0.4322,
          0.8814,
          0.3607,
          0.2326,
          0.6215,
          0.3306,
          0.4695,
          0.0644,
          0.3089,
          0.442,
          0.6588,
          0.494,
          0.6953,
          0.3743,
          0.474,
          0.6983,
          0.8268,
          0.2638,
          0.598,
          0.7594,
          0.3485
        ]
      }
    },
    "decision_boundaries": {
      "feature_ranges": {
        "clinical_score": {
          "min": 0,
          "max": 100
        },
        "environmental_score": {
          "min": 0,
          "max": 50
        }
      },
      "boundaries": [
        {
          "region_id": 1,
          "primary_expert": "clinical_expert",
          "bounds": {
            "clinical_score": {
              "min": 0,
              "max": 40
            },
            "environmental_score": {
              "min": 0,
              "max": 25
            }
          }
        },
        {
          "region_id": 2,
          "primary_expert": "environmental_expert",
          "bounds": {
            "clinical_score": {
              "min": 40,
              "max": 100
            },
            "environmental_score": {
              "min": 0,
              "max": 25
            }
          }
        },
        {
          "region_id": 3,
          "primary_expert": "temporal_expert",
          "bounds": {
            "clinical_score": {
              "min": 0,
              "max": 100
            },
            "environmental_score": {
              "min": 25,
              "max": 50
            }
          }
        }
      ]
    }
  },
  "end_to_end_metrics": {
    "overall": {
      "rmse": 0.1113,
      "mae": 0.0891,
      "r2": 0.8815,
      "auc": 0.8996
    },
    "temporal": {
      "timestamps": [
        "2025-03-25T15:31:03.324976",
        "2025-03-25T16:31:03.324976",
        "2025-03-25T17:31:03.324976",
        "2025-03-25T18:31:03.324976",
        "2025-03-25T19:31:03.324976",
        "2025-03-25T20:31:03.324976",
        "2025-03-25T21:31:03.324976",
        "2025-03-25T22:31:03.324976",
        "2025-03-25T23:31:03.324976",
        "2025-03-26T00:31:03.324976",
        "2025-03-26T01:31:03.324976",
        "2025-03-26T02:31:03.324976",
        "2025-03-26T03:31:03.324976",
        "2025-03-26T04:31:03.324976",
        "2025-03-26T05:31:03.324976",
        "2025-03-26T06:31:03.324976",
        "2025-03-26T07:31:03.324976",
        "2025-03-26T08:31:03.324976",
        "2025-03-26T09:31:03.324976",
        "2025-03-26T10:31:03.324976"
      ],
      "metrics": {
        "rmse": [
          0.0757,
          0.1125,
          0.0996,
          0.113,
          0.1306,
          0.104,
          0.0937,
          0.1191,
          0.1028,
          0.0909,
          0.1138,
          0.1043,
          0.1143,
          0.0844,
          0.119,
          0.0772,
          0.0917,
          0.0994,
          0.0939,
          0.1008
        ],
        "mae": [
          0.0835,
          0.0839,
          0.0871,
          0.0809,
          0.0898,
          0.0776,
          0.0817,
          0.0736,
          0.0851,
          0.0982,
          0.0888,
          0.0916,
          0.0791,
          0.093,
          0.1151,
          0.1068,
          0.0926,
          0.0408,
          0.052,
          0.0318
        ],
        "r2": [
          0.8964,
          0.8616,
          0.8834,
          0.8781,
          0.8839,
          0.8741,
          0.8587,
          0.9289,
          0.8661,
          0.9032,
          0.87,
          0.8756,
          0.8719,
          0.8739,
          0.8508,
          0.8413,
          0.8308,
          0.8626,
          0.8402,
          0.8456
        ]
      }
    },
    "baseline_comparisons": {
      "simple_linear": {
        "metrics": {
          "rmse": 0.1337,
          "mae": 0.0999,
          "r2": 0.7541,
          "auc": 0.6171
        },
        "improvements": {
          "rmse": "16.75%",
          "mae": "10.81%",
          "r2": "51.81%"
        },
        "statistical_significance": {
          "rmse": {
            "p_value": 0.0325,
            "significant": true
          },
          "mae": {
            "p_value": 0.0493,
            "significant": true
          },
          "r2": {
            "p_value": 0.0299,
            "significant": true
          }
        }
      },
      "simple_tree": {
        "metrics": {
          "rmse": 0.144,
          "mae": 0.0991,
          "r2": 0.6844,
          "auc": 0.7455
        },
        "improvements": {
          "rmse": "22.71%",
          "mae": "10.09%",
          "r2": "62.45%"
        },
        "statistical_significance": {
          "rmse": {
            "p_value": 0.0092,
            "significant": true
          },
          "mae": {
            "p_value": 0.0362,
            "significant": true
          },
          "r2": {
            "p_value": 0.0428,
            "significant": true
          }
        }
      },
      "simple_average": {
        "metrics": {
          "rmse": 0.1511,
          "mae": 0.1149,
          "r2": 0.6531,
          "auc": 0.758
        },
        "improvements": {
          "rmse": "26.34%",
          "mae": "22.45%",
          "r2": "65.84%"
        },
        "statistical_significance": {
          "rmse": {
            "p_value": 0.005,
            "significant": true
          },
          "mae": {
            "p_value": 0.0301,
            "significant": true
          },
          "r2": {
            "p_value": 0.0075,
            "significant": true
          }
        }
      }
    },
    "statistical_tests": {
      "normality_tests": {
        "shapiro_wilk": {
          "test_statistic": 0.9082,
          "p_value": 0.6692,
          "is_normal": true
        },
        "anderson_darling": {
          "test_statistic": 0.4865,
          "critical_values": [
            0.576,
            0.656,
            0.787,
            0.918,
            1.092
          ],
          "significance_levels": [
            15,
            10,
            5,
            2.5,
            1
          ],
          "is_normal": true
        }
      },
      "confidence_intervals": {
        "rmse": {
          "lower_bound": 0.0913,
          "upper_bound": 0.1313,
          "confidence_level": 0.95
        },
        "mae": {
          "lower_bound": 0.0741,
          "upper_bound": 0.1041,
          "confidence_level": 0.95
        },
        "r2": {
          "lower_bound": 0.8315,
          "upper_bound": 0.9315,
          "confidence_level": 0.95
        }
      },
      "hypothesis_tests": {
        "one_sample_t_test": {
          "test_statistic": 2.8914,
          "p_value": 0.0135,
          "is_significant": true
        }
      }
    }
  },
  "overall_rmse": 0.1113,
  "overall_mae": 0.0891,
  "overall_r2": 0.8815,
  "selection_accuracy": 0.7033
}